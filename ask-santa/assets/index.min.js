$('.ham').on('click', function(){
    $(this).toggleClass('active');
    $('body').toggleClass('ov-fl');
    $('.menu-site').toggleClass('active');
})
$('.has-submenu').on('click', function() {
    $('ul',this).fadeToggle();
    $('ul',this).toggleClass('show')
})
var swiperAsk = new Swiper('.swiper-ask',{
    spaceBetween: 50,
    autoplay: {
        delay: 7000
    },
    speed: 1500,
    loop: true,
    breakpoints: {
        1200: {
            slidesPerView: 2,
            spaceBetween: 20
        },
        768: {
            slidesPerView: 2,
            spaceBetween: 10
        },
        500: {
            slidesPerView: 2,
            spaceBetween: 10
        },
        300: {
            slidesPerView: 2,
            spaceBetween: 10
        }
    }
})
$(".thumb-lib").fancybox();
wow = new WOW(
    {
        boxClass:     'wow',      
        animateClass: 'animate__animated', 
        offset:       0,          
        mobile:       true,       
        live:         true        
    }
)
wow.init();

jQuery(document).ready(($) => {
    $('.quantity').on('click', '.plus', function(e) {
        let $input = $(this).prev('input.qty');
        let val = parseInt($input.val());
        $input.val( val+1 ).change();
    });

    $('.quantity').on('click', '.minus', 
        function(e) {
        let $input = $(this).next('input.qty');
        var val = parseInt($input.val());
        if (val > 0) {
            $input.val( val-1 ).change();
        } 
    });
});
(function() {
    'use strict';
    window.addEventListener('load', function() {
      // Fetch all the forms we want to apply custom Bootstrap validation styles to
      var forms = document.getElementsByClassName('needs-validation');
      // Loop over them and prevent submission
      var validation = Array.prototype.filter.call(forms, function(form) {
        form.addEventListener('submit', function(event) {
          if (form.checkValidity() === false) {
            event.preventDefault();
            event.stopPropagation();
          }
          form.classList.add('was-validated');
        }, false);
      });
    }, false);
  })();
 

//   const player = new Plyr('#player', {
//     // captions: { 
//     //     active: true, 
//     //     language: 'auto', 
//     //     update: true
//     // }
// });
$('[data-type="video"]').fancybox({
    video: {
        tpl:
        '<video id="player" playsinline controls>' +
        '<source src="{{src}}" type="{{format}}" />' +
        'Sorry, your browser doesn\'t support embedded videos, <a href="{{src}}">download</a> and watch with your favorite video player!' +
        "</video>",
        format: "", // custom video format
        autoStart: true
    },
    afterLoad: function(instance, current ){
        const player = new Plyr('#player', {
            captions: { 
                active: true, 
                language: 'auto', 
                update: true
            }
        });
    }
})


(function($) {
    $.fn.inputFilter = function(inputFilter) {
      return this.on("input keydown keyup mousedown mouseup select contextmenu drop", function() {
        if (inputFilter(this.value)) {
          this.oldValue = this.value;
          this.oldSelectionStart = this.selectionStart;
          this.oldSelectionEnd = this.selectionEnd;
        } else if (this.hasOwnProperty("oldValue")) {
          this.value = this.oldValue;
          this.setSelectionRange(this.oldSelectionStart, this.oldSelectionEnd);
        } else {
          this.value = "";
        }
      });
    };
  }(jQuery));

  $(document).ready(function() {
    $(".number-input").inputFilter(function(value) {
      return /^\d*$/.test(value);    // Allow digits only, using a RegExp
    });
  });